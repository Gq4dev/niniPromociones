<mvc:View controllerName="promociones.controller.View1"
    xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns:fb="sap.ui.comp.filterbar"
	xmlns="sap.m"
	  xmlns:t="sap.ui.table"
	displayBlock="true"

    >
	  <Shell>
    <Page id="page" title="{i18n>title}">	
		<fb:FilterBar id="filterbar" persistencyKey="myPersKey" useToolbar="false" search=".onSearch" filterChange=".onFilterChange">
			<fb:filterGroupItems>
				<fb:FilterGroupItem name="idOferta" label="{i18n>idOferta}" groupName="Group1" visibleInFilterBar="true">
									<fb:control>
										<Input	id="idOfertaInput"	name="idOferta"	/>
									</fb:control>
								</fb:FilterGroupItem>
				<fb:FilterGroupItem name="idMaterial" label="{i18n>material}" groupName="Group1" visibleInFilterBar="true">
									<fb:control>
										<Input	id="materialInput"	name="material"/>
									</fb:control>
								</fb:FilterGroupItem>
								<fb:FilterGroupItem name="idGrupo" label="{i18n>Wekgr}" groupName="Group1" visibleInFilterBar="true">
									<fb:control>
										 <Input id="grupoInput"	name="grupo" liveChange="onLiveChange" />
									</fb:control>
								</fb:FilterGroupItem>
				<fb:FilterGroupItem name="idCentro" label="{i18n>werks}" groupName="Group1" visibleInFilterBar="true">
						<fb:control>
							<Input	id="centroInput" name="centro" />		
							</fb:control>
				</fb:FilterGroupItem>
				<fb:FilterGroupItem name="idStatus" label="{i18n>status}" groupName="Group1" visibleInFilterBar="true">
						<fb:control>
							<Input	id="statusInput" name="status" />		
							</fb:control>
				</fb:FilterGroupItem>
				<fb:FilterGroupItem name="idProveedor" label="{i18n>Lifnr}" groupName="Group1" visibleInFilterBar="true">
									<fb:control>
										<Input	id="proveedorInput"	name="proveedor"/>
									</fb:control>
								</fb:FilterGroupItem>
				<fb:FilterGroupItem groupName="G2" name="fecha" label="{i18n>dateRange}" visibleInFilterBar="true">
					<fb:control  >
						<DateRangeSelection  id="fechaPicker" valueFormat="dd-MM-yyyy" displayFormat="dd-MM-yyyy"
							change="onDateChange" />
					</fb:control>
				</fb:FilterGroupItem>
				<fb:FilterGroupItem   groupName="G2" name=" "  visibleInFilterBar="true" label="{i18n>cleanFilters}">
					<fb:control >
						<Button  class="stretch" icon="sap-icon://clear-filter" press="onCleanFilters" />
					</fb:control>
				</fb:FilterGroupItem>
				</fb:filterGroupItems>
		</fb:FilterBar>	
		
		<IconTabBar
		id="idIconTabBar"
		select=".onFilterSelect"
		visible="false"
		expanded="false"
		expandable="false">
		<items>
			<IconTabFilter
			id="tabFilter"
				showAll="true"
				key="All" />
			<IconTabSeparator />
			<IconTabFilter
				icon="sap-icon://status-positive"
				iconColor="Positive"
				count="{statusCount>/Liberados}"
				text="Liberados"
				key="Liberados"
				visible="{= ${statusCount>/Liberados} > 0 }" />
			<IconTabFilter
				icon="sap-icon://status-in-process"
				iconColor="Critical"
				count="{statusCount>/Enproceso}"
				text="En Proceso"
				key="Enproceso" 
				visible="{= ${statusCount>/Enproceso} > 0 }"/>
			<IconTabFilter
				icon="sap-icon://status-negative"
				iconColor="Negative"
				count="{statusCount>/Fallido}"
				text="Fallido"
				key="Fallido" 
				visible="{= ${statusCount>/Fallido} > 0 }"/>
		</items>
		</IconTabBar>
		<content>
				<OverflowToolbar style="Clear" design="Transparent">
					<ToolbarSpacer></ToolbarSpacer>
					<Button icon="sap-icon://excel-attachment" press="onExportToExcel" />
				</OverflowToolbar>
				<t:Table id="Table"  selectionMode="None" fixedColumnCount="2" >
				</t:Table>
		    </content>
			
    </Page>
	</Shell>
</mvc:View>
